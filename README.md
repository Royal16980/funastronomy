# Fun Astronomy News (Next.js + MDX on Vercel)

A lightweight, **autonomous news site** you can deploy to **Vercel**. Content lives as **MDX** files in `/content/posts`. 
An automation (e.g., **Make.com**) can create new MDX files and push to GitHub â†’ Vercel auto-deploys.

## 1) Quickstart (Local)
```bash
npm i
npm run dev
```
Visit http://localhost:3000

## 2) Deploy to Vercel
1. Push this folder to a **GitHub** repo.
2. In Vercel â†’ **New Project** â†’ import the repo.
3. Build command: `contentlayer build && next build`
4. Framework preset: **Next.js**
5. (Optional) Set `NEXT_PUBLIC_SITE_URL` to your domain.

## 3) Content model
Create MDX files in `content/posts/` with frontmatter:
```mdx
---
title: "Headline"
date: "2025-09-09"
excerpt: "Short dek / standfirst"
coverImage: "https://res.cloudinary.com/your-cloud/image/upload/v...jpg"
category: "astronomy" # one of: astronomy, missions, launches-spacecraft, observing, space-science, tech, media, briefs
tags: ["tag1","tag2"]
canonical: "https://source.example.com/article"
---

Body content in MDX...
```

Images are remote (Unsplash / Cloudinary / NASA). Allowed domains are set in `next.config.js`.

## 4) Categories (routes)
- `/` homepage grid
- `/news/[slug]` article page
- `/category/[slug]` listing by category

Valid categories: `astronomy`, `missions`, `launches-spacecraft`, `observing`, `space-science`, `tech`, `media`, `briefs`

## 5) Automation (Make.com blueprint outline)
**Goal:** RSS â†’ Rewrite â†’ Upload image â†’ Create MDX â†’ Commit to GitHub.
- **RSS > Watch feed** (NASA/ESA/Space.com)
- **OpenAI > Create draft** (return JSON with title, excerpt, category, mdxBody, imageUrl, tags[])
- **HTTP > Download image** (if needed) â†’ **Cloudinary > Upload** â†’ get final `secure_url`
- **Tools > Compose file**: path `content/posts/{YYYY}-{MM}-{DD}-{slug}.mdx`
- **GitHub > Create / Update a file** on `main` with commit message (use a token with `contents:write`)
- **Optional**: Call **Vercel Deploy Hook** to redeploy immediately (otherwise Vercel builds on push)

### Example MDX generated by Make
```mdx
---
title: "Ariane 6 nails its second flight, boosting Europe's launch cadence"
date: "2025-09-07"
excerpt: "A smooth ascent and precise deployment restore confidence in Europe's heavy-lift workhorse."
coverImage: "https://res.cloudinary.com/<cloud>/image/upload/v...jpg"
category: "launches-spacecraft"
tags: ["Ariane 6","ESA","launch"]
canonical: "https://www.esa.int/..."
---

<Your rewritten article in MDX here>
```

## 6) Why images now work
Next.js needs a **real URL** from an allowed domain. The automation uploads images to **Cloudinary** (or uses remote NASA/Unsplash), and the URL goes into `coverImage`. No WordPress media IDs needed.

## 7) Optional: Deploy Hook (speed up)
In Vercel â†’ Settings â†’ Deploy Hooks â†’ create one for `main`.
Then in Make, after committing, **HTTP > Make a request** (POST to the hook URL) to trigger a build instantly.

---

Have fun â€” push content, and Vercel does the rest ðŸš€
